<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NPK Contribution Calculator</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <h1>NPK Contribution Calculator</h1>
    <form id="npkForm">
        <label for="cropType">Crop Type:</label>
        <select id="cropType" required>
            <!-- Legumes (Nitrogen-Fixing Crops) -->
            <optgroup label="Legumes">
                <option value="Mung Beans">Mung Beans</option>
                <option value="Chickpeas">Chickpeas</option>
                <option value="Lentils">Lentils</option>
                <option value="Peas">Peas</option>
                <option value="Soybeans">Soybeans</option>
                <option value="Common Beans">Common Beans</option>
                <option value="Peanuts">Peanuts</option>
                <option value="Lucerne (Alfalfa)">Lucerne (Alfalfa)</option>
                <option value="Clover">Clover</option>
            </optgroup>
            <!-- Cereals (Non-Nitrogen-Fixing Crops) -->
            <optgroup label="Cereals">
                <option value="Wheat">Wheat</option>
                <option value="Barley">Barley</option>
                <option value="Corn">Corn</option>
                <option value="Rice">Rice</option>
                <option value="Oats">Oats</option>
                <option value="Sorghum">Sorghum</option>
                <option value="Barley (Forage)">Barley (Forage)</option>
                <option value="Oat Hay">Oat Hay</option>
            </optgroup>
            <!-- Forage Crops (Non-Legumes) -->
            <optgroup label="Forage Crops (Non-Legumes)">
                <option value="Ryegrass">Ryegrass</option>
                <option value="Sorghum (Forage)">Sorghum (Forage)</option>
            </optgroup>
            <!-- Oilseeds -->
            <optgroup label="Oilseeds">
                <option value="Canola">Canola</option>
                <option value="Sunflower">Sunflower</option>
                <option value="Sesame">Sesame</option>
                <option value="Safflower">Safflower</option>
            </optgroup>
            <!-- Fiber Crops -->
            <optgroup label="Fiber Crops">
                <option value="Cotton">Cotton</option>
                <option value="Flax">Flax</option>
            </optgroup>
            <!-- Root and Tuber Crops -->
            <optgroup label="Root and Tuber Crops">
                <option value="Potatoes">Potatoes</option>
                <option value="Cassava">Cassava</option>
                <option value="Sugar Beet">Sugar Beet</option>
            </optgroup>
            <!-- Others -->
            <optgroup label="Others">
                <option value="Sugarcane">Sugarcane</option>
            </optgroup>
        </select>

        <label for="yieldInput" id="yieldLabel">Yield (t/ha):</label>
        <input type="number" id="yieldInput" step="0.01" placeholder="Enter yield in t/ha" required>

        <label for="residueManagement">Residue Management:</label>
        <select id="residueManagement" required>
            <option value="Residues Removed">Residues Removed</option>
            <option value="Residues Retained">Residues Retained</option>
            <option value="Residues Incorporated">Residues Incorporated</option>
        </select>

        <label for="nodulationEfficiency">Nodulation Efficiency:</label>
        <select id="nodulationEfficiency" required>
            <option value="">Select Nodulation Efficiency</option>
            <option value="Poor">Poor (Few, pale nodules; stunted growth)</option>
            <option value="Average">Average (Moderate nodules; standard growth)</option>
            <option value="Good">Good (Abundant, healthy nodules; vigorous growth)</option>
        </select>

        <button type="submit">Calculate</button>
    </form>

    <div id="results">
        <h2>Results</h2>
        <p>Nitrogen Fixed: <span id="nFixed">N/A</span></p>
        <p>Nitrogen from Residues: <span id="nFromResidues">N/A</span></p>
        <p>Total Nitrogen Contribution: <span id="nContribution">N/A</span></p>
        <p>Phosphorus Contribution: <span id="pContribution">N/A</span></p>
        <p>Potassium Contribution: <span id="kContribution">N/A</span></p>
    </div>

    <!-- Information Section -->
    <div id="information">
        <h2>Understanding Nitrogen Residues</h2>
        <p>
            When a crop is harvested, not all of its biomass is removed from the field. The non-harvested parts, known as <strong>crop residues</strong>, include:
        </p>
        <ul>
            <li><strong>Above-Ground Residues:</strong> Stems, leaves, and other plant parts left after harvesting the economic yield (e.g., grains, seeds).</li>
            <li><strong>Below-Ground Residues:</strong> Roots remaining in the soil.</li>
        </ul>
        <p>
            These residues contain nutrients that can be recycled into the soil as they decompose. The nitrogen content in these residues is what's referred to as "<strong>nitrogen from residues</strong>" or "<strong>residual nitrogen</strong>."
        </p>

        <h3>Importance of Nitrogen Residues</h3>
        <ul>
            <li><strong>Soil Fertility:</strong> Residual nitrogen contributes to soil fertility by adding organic matter and nutrients.</li>
            <li><strong>Nutrient Cycling:</strong> Enhances nutrient cycling and reduces the need for synthetic nitrogen fertilizers.</li>
            <li><strong>Sustainability:</strong> Promotes sustainable agriculture by improving soil health over time.</li>
        </ul>

        <h3>Example Calculation</h3>
        <p>Let's walk through an example to illustrate how "nitrogen from residues" is calculated in the context of your NPK Contribution Calculator.</p>

        <h4>Scenario</h4>
        <ul>
            <li><strong>Crop:</strong> Wheat (a non-nitrogen-fixing crop)</li>
            <li><strong>Grain Yield:</strong> 5 t/ha (tonnes per hectare)</li>
            <li><strong>Residue Management:</strong> Residues Retained</li>
        </ul>

        <h4>Step-by-Step Calculation</h4>
        <ol>
            <li>
                <strong>Convert Grain Yield to kg/ha</strong>
                <p>Grain Yield = 5 t/ha × 1000 = 5000 kg/ha</p>
            </li>
            <li>
                <strong>Calculate Above-Ground Biomass (AGB)</strong>
                <p>
                    Harvest Index (HI) for Wheat: 0.45<br>
                    AGB = Grain Yield / Harvest Index = 5000 kg/ha / 0.45 ≈ 11,111 kg/ha
                </p>
            </li>
            <li>
                <strong>Calculate Root Biomass (RB)</strong>
                <p>
                    Root-Shoot Ratio (RSR) for Wheat: 0.20<br>
                    RB = AGB × Root-Shoot Ratio = 11,111 kg/ha × 0.20 = 2,222 kg/ha
                </p>
            </li>
            <li>
                <strong>Calculate Total Biomass</strong>
                <p>Total Biomass = AGB + RB = 11,111 kg/ha + 2,222 kg/ha = 13,333 kg/ha</p>
            </li>
            <li>
                <strong>Calculate Nitrogen Uptake</strong>
                <p>
                    Nitrogen Content (nContent) for Wheat: 0.018 (or 1.8%)<br>
                    Nitrogen Uptake = Total Biomass × nContent = 13,333 kg/ha × 0.018 = 240 kg N/ha
                </p>
            </li>
            <li>
                <strong>Calculate Residue Biomass</strong>
                <p>
                    Since residues are retained, residue biomass includes both AGB and RB:<br>
                    Residue Biomass = AGB + RB = 13,333 kg/ha
                </p>
            </li>
            <li>
                <strong>Calculate Nitrogen from Residues</strong>
                <p>
                    Nitrogen from Residues = Residue Biomass × nContent = 13,333 kg/ha × 0.018 = 240 kg N/ha<br>
                    <em>Note:</em> This represents the total nitrogen present in the residues that can potentially be returned to the soil.
                </p>
            </li>
            <li>
                <strong>Calculate Nitrogen Fixed</strong>
                <p>
                    Since Wheat is a non-nitrogen-fixing crop, nitrogen fixation is zero:<br>
                    Nitrogen Fixed = 0 kg N/ha
                </p>
            </li>
            <li>
                <strong>Calculate Total Nitrogen Contribution</strong>
                <p>
                    Total Nitrogen Contribution = Nitrogen Fixed + Nitrogen from Residues = 0 + 240 = 240 kg N/ha
                </p>
            </li>
        </ol>

        <h4>Interpretation</h4>
        <ul>
            <li><strong>Nitrogen from Residues (240 kg N/ha):</strong> This is the amount of nitrogen contained in the crop residues that will be returned to the soil upon decomposition.</li>
            <li><strong>Availability to Next Crop:</strong> Not all this nitrogen becomes immediately available. Decomposition rates and soil conditions affect how quickly nitrogen is released.</li>
            <li><strong>Importance for Soil Health:</strong> Returning residues to the soil enhances organic matter and nutrient content, improving soil structure and fertility.</li>
        </ul>

        <h3>Key Points</h3>
        <ul>
            <li><strong>Non-Nitrogen-Fixing Crops:</strong> For crops like wheat, the primary nitrogen contribution comes from the residues left in the field.</li>
            <li><strong>Nitrogen-Fixing Crops:</strong> For legumes (e.g., soybeans, peas), nitrogen contribution includes both fixed atmospheric nitrogen and nitrogen from residues.</li>
            <li><strong>Residue Management Practices:</strong>
                <ul>
                    <li><strong>Residues Removed:</strong> If residues are removed (e.g., for fodder), the nitrogen contained in them is not returned to the soil.</li>
                    <li><strong>Residues Retained or Incorporated:</strong> Keeping residues in the field allows for nutrient recycling.</li>
                </ul>
            </li>
        </ul>

        <h3>Factors Affecting Nitrogen Availability from Residues</h3>
        <ul>
            <li><strong>Residue Quality:</strong> High-quality residues with lower carbon-to-nitrogen (C:N) ratios decompose faster, releasing nitrogen more quickly.</li>
            <li><strong>Soil Conditions:</strong> Temperature, moisture, and microbial activity influence decomposition rates.</li>
            <li><strong>Management Practices:</strong> Tillage and residue incorporation methods can affect how quickly residues break down.</li>
        </ul>

        <h3>Application in the Calculator</h3>
        <p>In your NPK Contribution Calculator, the "Nitrogen from Residues" value helps users understand:</p>
        <ul>
            <li><strong>Nutrient Recycling Potential:</strong> How much nitrogen can be returned to the soil from the previous crop.</li>
            <li><strong>Fertilizer Planning:</strong> Adjusting fertilizer applications based on the expected nitrogen contribution from residues.</li>
            <li><strong>Sustainability Goals:</strong> Promoting practices that enhance soil health and reduce reliance on synthetic fertilizers.</li>
        </ul>

        <h3>Conclusion</h3>
        <p>"Nitrogen from residues" represents the potential nitrogen contribution to the soil from the decomposition of crop residues. It's a crucial component of sustainable nutrient management, helping to maintain soil fertility and support healthy crop production.</p>
    </div>

    <script src="js/data.js"></script>
    <script src="js/calculator.js"></script>
</body>
</html>
